(()=>{"use strict";function e(e){"Escape"===e.key&&n(document.querySelector(".popup_is-opened"))}function t(t){t.classList.add("popup_is-opened"),window.addEventListener("keydown",e)}function n(t){t.classList.remove("popup_is-opened"),window.removeEventListener("keydown",e)}function r(e){var t=e;t.addEventListener("click",(function(e){e.target===t&&n(t)}))}function o(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=o.querySelector(".card__image");return c.alt=e.alt,c.src=e.link,o.querySelector(".card__title").textContent=e.name,o.querySelector(".card__delete-button").addEventListener("click",t),c.addEventListener("click",n),o.querySelector(".card__like-button").addEventListener("click",r),o}var c=function(e){e.target.closest(".card").remove()};function a(e){e.currentTarget.classList.toggle("card__like-button_is-active")}var i,d,u,p,l=document.querySelector(".popup_type_image"),s=document.querySelector(".places__list"),m=document.querySelector("form[name=new-place]"),_=document.querySelector("form[name=edit-profile]"),y=_.querySelector("input[name=name]"),f=_.querySelector("input[name=description]");function v(e){var n=l.querySelector(".popup__caption"),r=l.querySelector(".popup__image");n.textContent=e.alt,r.src=e.link,n.textContent=e.name,t(l)}l.querySelector(".popup__close").addEventListener("click",(function(){return n(l)})),r(l),i=document.querySelector(".popup_type_edit"),d=document.querySelector(".profile__title"),u=document.querySelector(".profile__description"),document.querySelector(".profile__edit-button").addEventListener("click",(function(){t(i),y.value=d.textContent,f.value=u.textContent})),i.querySelector(".popup__close").addEventListener("click",(function(){return n(i)})),r(i),_.addEventListener("submit",(function(e){e.preventDefault();var t=Object.fromEntries(new FormData(_)),r=t.name,o=t.description;d.textContent=r,u.textContent=o,n(i)})),p=document.querySelector(".popup_type_new-card"),document.querySelector(".profile__add-button").addEventListener("click",(function(){return t(p)})),p.querySelector(".popup__close").addEventListener("click",(function(){return n(p)})),r(p),m.addEventListener("submit",(function(e){e.preventDefault();var t,r,i=Object.fromEntries(new FormData(m));r=o(t={name:i["place-name"],link:i.link},c,(function(){return v(t)}),a),s.prepend(r),m.reset(),n(p)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Архыз"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Челябинская область"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Камчатка"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Холмогорский район"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Байкал"}].forEach((function(e){s.append(o(e,c,(function(){return v(e)}),a))}))})();